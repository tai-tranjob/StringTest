<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>stringtest</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .task { margin-bottom: 20px; }
        .task label { display: flex; margin-bottom: 5px; font-weight: bold; }
        .task input{ width: 300px; padding: 5px; }
        .result { display: inline-block; margin-left: 20px; color: blue; }
    </style>
</head>
<body>
    <h2>TestString</h2>
    <div class="task">
        <label>1. Viết hàm chuyển đổi chữ cái đầu của mỗi từ trong một chuỗi thành chữ hoa.</label>
        <input type="text" id="input1" oninput="runTask1()" placeholder="string">
        <span class="result" id="result1"></span>
    </div>

    <div class="task">
        <label>2. Viết hàm đếm số lượng các số nguyên tố trong một mảng số nguyên.</label>
        <input type="text" id="input2" oninput="runTask2()" placeholder="1,2,3,4,5">
        <span class="result" id="result2"></span>
    </div>

    <div class="task">
        <label>3. Viết hàm đếm số lần xuất hiện của từng từ trong một chuỗi.</label>
        <input type="text" id="input3" oninput="runTask3()" placeholder="đếm bao nhiêu từ">
        <span class="result" id="result3"></span>
    </div>

    <div class="task">
        <label>4. Viết hàm tính giai thừa của một số nguyên dương. Giai thừa có dấu ! đằng sau vd 5!</label>
        <input type="number" id="input4" oninput="runTask4()" placeholder="1!">
        <span class="result" id="result4"></span>
    </div>

    <div class="task">
        <label>5. Viết hàm trả về số Fibonacci thứ n. Fibonacci là dãy số tự nhiên đầu tiên bắt đầu bằnng 0 và 1, các số tiếp theo là tổng hai số trước đó</label>
        <input type="number" id="input5" oninput="runTask5()" placeholder="7">
        <span class="result" id="result5"></span>
    </div>

    <script>
        function capitalizeWords(str) {
            return str.toLowerCase().split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
        }

        function countPrimes(arr){
            function isPrime(n){
                if(n<2) return false;
                for (let i = 2;  i <= Math.sqrt(n); i++){
                    if(n % i===0) return false;
                }
                return true ;               
            }
            return arr.filter(isPrime).length;
        }

        function countWords(str){
            const words=str.toLowerCase().match(/\b\w+\b/g);
            const count ={};
            if(words){
                words.forEach(word =>{count[word]=(count[word]||0)+1;});
            }
            return count;
        }

        function factorial(n){
            if(n<0) return undefined;
            if(n<2) return 1;
            return n*factorial(n-1);
        }

        function fibonacci(n) {
            if (n < 0) return undefined;
            const fib = [0, 1];
            for (let i = 2; i <= n; i++) {
                fib[i] = fib[i - 1] + fib[i - 2];
            }
            return fib[n];
        }
       function runTask1() {
            const input = document.getElementById('input1').value;
            document.getElementById('result1').textContent = capitalizeWords(input);
        }

        function runTask2() {
            const input = document.getElementById('input2').value;
            const numbers = input.split(',').map(s => parseInt(s.trim())).filter(n => !isNaN(n));
            document.getElementById('result2').textContent = countPrimes(numbers);
        }

        function runTask3() {
            const input = document.getElementById('input3').value;
            const result = countWords(input);
            document.getElementById('result3').textContent = JSON.stringify(result);
        }

        function runTask4() {
            const input = parseInt(document.getElementById('input4').value);
            const result = factorial(input);
            document.getElementById('result4').textContent = result !== undefined ? result : "Invalid";
        }

        function runTask5() {
            const input = parseInt(document.getElementById('input5').value);
            const result = fibonacci(input);
            document.getElementById('result5').textContent = result !== undefined ? result : "Invalid";
        }
    </script>  
</body>
</html>